version: 1.0.{build}
# Build worker image (VM template)
image: Visual Studio 2022
# Build configuration
configuration: Release
# Scripts that run before build
before_build:
  - echo "Starting build process..."
# Build script
build_script:
  - ps: |
      # Install 7-Zip using Chocolatey
      choco install 7zip -y
      # Run 7-Zip Benchmark - Single thread
      & "C:\Program Files\7-Zip\7z.exe" b -mmt1
      # Run 7-Zip Benchmark - Multi-thread
      & "C:\Program Files\7-Zip\7z.exe" b
# Scripts that run after build
after_build:
  - echo "Build completed!"
# Disable automatic tests
test: off